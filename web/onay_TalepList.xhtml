<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      >

    <style>
        table {

            font-size: 13px;
        }

    </style>

    <f:view contentType="text/html">
        <h:head>

            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>

                <title>Onaylanan Satın Alma Talepleri</title>
            </f:facet>
        </h:head>

        <h:body>

            <h:form>  

                <p:growl id="growl" sticky="true" showDetail="true" life="3000" />

                <script type="text/javascript">
                    $(document).ready(function () {
                        $('.ui-growl.ui-widget').delay(3000).slideUp(1000);
                    })
                </script>



                <p:menubar style="font-size: 16px;">
                    <p:menuitem icon="ui-icon-home" value="AnaSayfa" url="http://localhost:8080/jsfSatinAlma/faces/yonetici.xhtml"></p:menuitem>
                    <p:submenu label="Yönetim" icon="ui-icon-document">
                        <p:menuitem id="movieBtn" value="İstek/Talep" />
                        <p:separator />
                        <p:submenu label="Kullanıcı" icon="ui-icon-contact">
                            <p:menuitem value="Kullanıcı Kaydı" url="#" />
                        </p:submenu>
                    </p:submenu>

                    <p:submenu label="Rapor" icon="ui-icon-document-b">
                        <p:menuitem value="Onaylanan" url="http://localhost:8080/jsfSatinAlma/faces/onay_TalepList.xhtml" icon="ui-icon-check" />
                        <p:menuitem value="İptal Edilen" url="http://localhost:8080/jsfSatinAlma/faces/iptal_TalepList.xhtml" icon="ui-icon-circle-close" />
                    </p:submenu>


                    <f:facet name="options">
                        <p:outputLabel value="Sayın " style="font-size: 16px; color: royalblue"></p:outputLabel>
                        <p:outputLabel style="font-size: 16px; margin-right: 5px;  ">[ #{dB.userName} #{dB.userSurName}  ]</p:outputLabel>
                        <p:outputLabel value="Hoşgeldiniz." style="font-size: 15px; margin-right: 5px; color: royalblue"></p:outputLabel>

                        <p:outputLabel value="Sistem Giriş: " style="font-size: 13px; color: royalblue"></p:outputLabel>
                        <p:outputLabel value="#{currentDate}" style="margin-right: 5px; font-size: 14px;">
                            <f:convertDateTime pattern="MM/dd/yyyy HH:mm" type="date" /> 

                        </p:outputLabel>

                        <p:commandButton style="font-size: 14px; "  icon="ui-icon-circle-close" value="Çıkış Yap" actionListener="#{loginControl.cikis}"/>
                    </f:facet>
                </p:menubar>

                <p:separator />
                <h:form>

                    <p:dataTable id="tbl" var="onayListe" value="#{yoneticiListe.onaylanan_Liste()}" rows="10"
                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"             
                                 paginator="true"
                                 rowsPerPageTemplate="15,20,30">


                        <f:facet name="header">
                            Onaylanan Satın Alma Talepleri
                        </f:facet>


                        <p:column headerText="Kategori">
                            <h:outputText value="#{onayListe.kategori_adi}" />
                        </p:column>


                        <p:column headerText="Tedarikçi">
                            <h:outputText value="#{onayListe.tedarikci_adi}" />
                        </p:column>

                        <p:column headerText="Ürün">
                            <h:outputText value="#{onayListe.urun_adi}" />
                        </p:column>

                        <p:column headerText="Birim Fiyat">
                            <h:outputText value="#{onayListe.birimFiyat}" >
                                <f:convertNumber type="currency" currencySymbol="TL" />
                            </h:outputText>
                        </p:column>



                        <p:column headerText="Adet">
                            <h:outputText value="#{onayListe.adet}" >

                                <f:convertNumber type="number" />
                            </h:outputText>
                        </p:column>
                        <p:column headerText="KDV">
                            <h:outputText value="#{onayListe.kdv}" >
                                <f:convertNumber type="number" />
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Toplam Tutar">
                            <h:outputText value="#{onayListe.toplamTutar}" >
                                <f:convertNumber type="currency" currencySymbol="TL" />
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Genel Toplam">
                            <h:outputText value="#{onayListe.genelToplam}">
                                <f:convertNumber type="currency" currencySymbol="TL" />

                            </h:outputText>

                        </p:column>
                        <p:column headerText="Talep Tarihi" >
                            <h:outputText value="#{onayListe.tarih}">
                            </h:outputText>

                        </p:column>

                        <p:column headerText="Talep Eden" >
                            #{onayListe.insertUserName} #{onayListe.insert_UserSurName}
                        </p:column>


                    </p:dataTable>



                </h:form>


            </h:form>


        </h:body>
    </f:view>
</html>
